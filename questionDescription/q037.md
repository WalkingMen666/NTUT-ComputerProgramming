# Q37. 全班學生成績處理

**某學校有一系統的資料庫儲存各項課程資訊，其提供的功能如下：**
1. **輸出各科系、各年級的每一學年平均成績前三名的名次百分比和撤選百分比**
2. **輸出每項課程每年的最高學期成績、平均學期成績、最低學期成績、學期成績標準差和撤選百分比、前三名的成績和名次百分比**
3. **可搜尋某課程歷年學期分數最高的前兩名學號和最多人數的科系**

**每個課程資訊包含課程編碼、學期編碼、學生學校學號編碼和學生成績。各項編碼資訊如下：**  
> **學校學號：共八碼，前三碼是入學年度，中間三碼是科系編碼、後兩碼是座號**  
  **課程編碼：共四碼，前三碼是學科編碼（整數，英文一是101、國文一是201），後一碼是學分數（整數）**  
  **學期編碼： 共四碼，前三碼是學年度（整數）、後一碼是學期（第一學期1、第二學期2）**  

**每個學科一學年僅開一次，各項成績計算如下：**
1. **排名：成績較高排名較前，若成績相同則學號編碼較小排名較前**
2. **撤選百分比： 撤選人數/總人數**
3. **學期成績標準差： 該課程所有非撤選成績-非撤選的學期平均成績的平方總和）\*\*0.5/非撤選的學生人數，無條件捨去至整數**
4. **學年平均成績： 該學年所有非撤選課程成績*該課程學分數/該學年所有非撤選學分數且無條件捨去至整數**
5. **名次百分比：**
> **假如總人數有50人**
  **百分比為1%的人數=（50*0.01且無條件進位至整數）= 1**  
  **百分比為2%的人數=（50*0.02且無條件進位至整數）-（百分比為1%的人數）= 1-1 = 0**  
  **百分比為3%的人數=（50*0.03且無條件進位至整數）-（百分比為1-2%人數）= 2-1 = 1**  
  **因此排名第一名為1%，第二名的百分比為3%**  

**請輸入多項課程資訊到資料庫，並依序執行所有功能**

## Instruction

**輸入說明：**
> **第1行：輸入課程數N（整數）**  
  **第2行至倒數第2行：輸入各科課程資料。如果學生退選，則學期成績為w**  
  **非國文一或英文一的課程，僅包含學期成績(無會考成績)**  
  **第N行：輸入課程編碼、學期編碼和學生數量，中間以一個空白隔開**  
  **第N+1行：輸入修課學生1學號和學生學期成績，中間以一個空白隔開**  
  **第N+2行：輸入修課學生2學號和學生學期成績，中間以一個空白隔開**  
  **…**  
  **直到輸入-1結束**  

**國文一和英文一的學期成績包含課程學期成績和會考成績，分別占比30%、70%，總分為無條件進位至整數，如果學生退選則僅輸入學期成績w**
> **第N行：輸入課程編碼和學期編碼，中間以一個空白隔開**  
  **第N+1行：輸入修課學生1學號、課程學期成績和會考成績，中間以一個空白隔開**  
  **第N+2行：輸入修課學生2學號、課程學期成績和會考成績，中間以一個空白隔開**  
  **…**  
  **直到輸入-1結束**  
  **最後1行：搜尋課程資料**  
  **輸入想要搜尋的課程編碼**  

**範例輸入說明：**  
> **2 （課程數）**  
  **1013 1121 9（課程編碼1013、112學年度上學期，學生數量9）**  
  **11153001 59 63（學生入學年度111年，科系530，號碼01，課程學期成績59，會考成績63）**  
  **11153002 68 72（學生入學年度111年，科系530，號碼02，課程學期成績68，會考成績62）**  
  **11153003 39 64（學生入學年度111年，科系530，號碼03，課程學期成績39，會考成績64）**  
  **11153004 w （學生入學年度111年，科系530，號碼04，退選）**  
  **11153005 68 82（學生入學年度111年，科系530，號碼05，課程學期成績68，會考成績82）**  
  **11253001 67 91（學生入學年度112年，科系530，號碼01，課程學期成績67，會考成績91）**  
  **11253002 78 92（學生入學年度112年，科系530，號碼02，課程學期成績78，會考成績92）**  
  **11253003 72 68（學生入學年度112年，科系530，號碼03，課程學期成績72，會考成績68）**  
  **11253004 91 76（學生入學年度112年，科系530，號碼04，課程學期成績91，會考成績76）**  
  **1214 1131 8（課程編碼1214，113學年度上學期，學生數量8）**  
  **11153001 63（學生入學年度111年，科系530，號碼01，學期成績63）**  
  **11153002 75（學生入學年度111年，科系530，號碼02，學期成績75）**  
  **11153003 82（學生入學年度111年，科系530，號碼03，學期成績82）**  
  **11153004 92（學生入學年度111年，科系530，號碼04，學期成績92）**  
  **11153101 82（學生入學年度111年，科系531，號碼01，學期成績82）**  
  **11153102 79（學生入學年度111年，科系531，號碼02，學期成績79）**  
  **11153103 90（學生入學年度111年，科系531，號碼03，學期成績90）**  
  **11153104 70（學生入學年度111年，科系531，號碼04，學期成績70）**  
  **1013（搜尋課程編碼1013歷年學期分數最高的前兩名學號和最多人數的科系）**  


**輸出說明：**
> **輸出分為以下三部分，每一部分中間無間隔**  
  **輸出各科系、各年級、每年的平均成績前三名的名次百分比與撤選百分比**  
  **輸出每個課程、每年所有非撤選學生的最高學期成績、平均學期成績、最低學期成績、學期成績標準差、和課程的撤選百分比（無條件捨去至整數），前三名的成績和名次百分比。**
  **輸出在搜尋的學科編碼，歷年學期分數最高的前兩名學號和最多人數的科系**  

**各個部份的輸出規範如下：**
1. **輸出各科系（編碼由小到大）、各年級（編碼由小到大）的每一學年（編碼由小到大）學年平均成績前三名的名次百分比和撤選百分比（無條件捨去至整數）。某科系，某年級的某學年輸出如下：**
> **第N行：科系編碼，年級編碼，學年，中間以一個空白隔開**  
  **第N+1行：第一名學生學號編碼，學年平均成績，名次百分比，撤選百分比，中間以一個空白隔開**  
  **第N+2行：第二名學生學號編碼，學年平均成績，名次百分比，撤選百分比，中間以一個空白隔開**  
  **第N+3行：第三名學生學號編碼，學年平均成績，名次百分比，撤選百分比，中間以一個空白隔開**  

2. **輸出每個課程（編碼由小到大）每年（年份由小到大）所有非撤選學生的最高學期成績、平均學期成績（無條件捨去至整數）、最低學期成績、學期成績標準差（無條件捨去至整數）和課程的撤選百分比（無條件捨去至整數），前三名的成績和名次百分比。某年某課程的輸出如下：**
> **第N行：課程編碼，學年，中間以一個空白隔開**  
  **第N+1行：第一名學生學號編碼，學期成績，名次百分比，中間以一個空白隔開**  
  **第N+2行：第二名學生學號編碼，學期成績，名次百分比，中間以一個空白隔開**  
  **第N+3行：第三名學生學號編碼，學期成績，名次百分比，中間以一個空白隔開**  


3. **搜尋結果**
> **輸出課程歷年學期分數最高的前兩名學號和最多人數的科系**  
  **第N行:第一名學號編碼，第二名學號編碼，人數最多的科系編碼，人數第二多的科系編碼，中間以一個空白隔開**  

**範例輸出說明：**
> **530 111 112 （科系530，入學年度111，112年）**  
  **11153005 73 1% 0% （學年平均成績第一名11153005，學年平均成績73，名次百分比1%，撤選百分比0%）**  
  **11153002 70 25% 0%（學年平均成績第二名11153002，學年平均成績70，名次百分比25%，撤選百分比0%）**  
  **11153001 61 50% 0%（學年平均成績第三名11153001，學年平均成績61，名次百分比50%，撤選百分比0%）**  
  **530 111 113（科系530，入學年度111，113年）**  
  **11153004 92 1% 0%（學年平均成績第一名11153004，學年平均成績92，名次百分比1%，撤選百分比0%）**  
  **11153003 82 25% 0%（學年平均成績第二名11153003，學年平均成績82，名次百分比25%，撤選百分比0%）**  
  **11153002 75 50% 0%（學年平均成績第三名11153002，學年平均成績75，名次百分比50%，撤選百分比0%）**  
  **530 112 112（科系530，入學年度112，112年）**  
  **11253004 87 1% 0%（學年平均成績第一名11253004，學年平均成績87，名次百分比1%，撤選百分比0%）**  
  **11253002 83 25% 0%（學年平均成績第二名11253002，學年平均成績83，名次百分比25%，撤選百分比0%）**  
  **11253001 75 50% 0%（學年平均成績第三名11253001，學年平均成績75，名次百分比50%，撤選百分比0%）**  
  **531 111 113（科系531，入學年度111，113年）**  
  **11153103 90 1% 0%（學年平均成績第一名11153103，學年平均成績90，名次百分比1%，撤選百分比0%）**  
  **11153101 82 25% 0%（學年平均成績第二名11153101，學年平均成績82，名次百分比25%，撤選百分比0%）**  
  **11153102 79 50% 0%（學年平均成績第三名11153102，學年平均成績79，名次百分比50%，撤選百分比0%）**  
  **1013 112（課程1013，112年）**  
  **87 70 47 11 11%（最高學期成績87，平均學期成績70，最低學期成績47，學期成績標準差11，撤選百分比11%）**  
  **11253004 87 1%（學期成績第一名11253004，學期成績87，名次百分比1%）**  
  **11253002 83 13%（學期成績第二名11253002，學期成績83，名次百分比13%）**  
  **11253001 75 25%（學期成績第三名11253001，學期成績75，名次百分比25%）**  
  **1214 113（課程1214，113年）**  
  **92 79 63 9 0%（最高學期成績92，平均學期成績79，最低學期成績63，學期成績標準差9，撤選百分比0%）**  
  **11153004 92 1%（學期成績第一名11153004，學期成績92，名次百分比1%）**  
  **11153103 90 13%（學期成績第二名11153103，學期成績90，名次百分比13%）**  
  **11153003 82 25%（學期成績第三名11153003，學期成績82，名次百分比25%）**  
  **11253004 11253002 530（課程編碼1013，歷年學期成績第一名11253004，歷年學期第二名11253002，最多人數科系編碼530）**  

`特殊要求`**各項資料請用 dictionary儲存**

## Test Case

**Example Input 1：**

    2
    1012 1101 17
    11029301 72 63
    11029302 64 72
    11029303 65 75
    11029307 72 81
    11029308 85 83
    11029309 75 72
    11029310 86 77
    11029311 83 79
    11029312 76 75
    11029313 82 74
    11029314 85 73
    11029315 89 72
    11029316 75 65
    11029317 83 72
    11029319 84 56
    11029320 82 73
    11029321 89 92
    1021 1102 21
    11029301 92
    11029302 53
    11029303 57
    11029304 66
    11029305 82
    11029306 85
    11029307 92
    11029308 95
    11029309 82
    11029310 86
    11029311 82
    11029312 86
    11029313 89
    11029314 87
    11029315 85
    11029316 86
    11029317 73
    11029318 w
    11029319 w
    11029320 76
    11029321 74
    1012
**Example Output 1：**

    293 110 110
    11029308 88 1% 0%
    11029306 85 6% 0%
    11029310 84 11% 0%
    1012 110
    90 78 67 6 0%
    11029321 90 1%
    11029308 85 6%
    11029310 84 12%
    1021 110
    95 80 53 11 9%
    11029308 95 1%
    11029301 92 6%
    11029307 92 11%
    11029321 11029308 293
- - -
**Example Input 2：**

    3
    1033 1132 16
    11263001 65
    11263002 67
    11263003 68
    11263004 73
    11263005 69
    11263009 83
    11363001 92
    11363002 59
    11363003 88
    11363004 95
    11363005 76
    11363006 82
    11363007 62
    11363009 59
    11363010 87
    11363011 72
    1033 1142 9
    11363012 83
    11363013 92
    11363014 70
    11363015 60
    11363016 81
    11363017 59
    11363018 66
    11363019 75
    11363020 71
    1072 1141 14
    11263001 82
    11263002 95
    11263003 78
    11363001 86
    11363002 88
    11363003 87
    11363004 72
    11363005 95
    11363006 78
    11363007 83
    11263101 92
    11263102 83
    11263103 92
    11263104 75
    1033
**Example Output 1：**

    630 112 113
    11263009 83 1% 0%
    11263004 73 17% 0%
    11263005 69 34% 0%
    630 112 114
    11263002 95 1% 0%
    11263001 82 34% 0%
    11263003 78 67% 0%
    630 113 113
    11363004 95 1% 0%
    11363001 92 11% 0%
    11363003 88 20% 0%
    630 113 114
    11363005 95 1% 0%
    11363013 92 7% 0%
    11363002 88 13% 0%
    631 112 114
    11263101 92 1% 0%
    11263103 92 25% 0%
    11263102 83 50% 0%
    1033 113
    95 74 59 11 0%
    11363004 95 1%
    11363001 92 7%
    11363003 88 13%
    1033 114
    92 73 59 10 0%
    11363013 92 1%
    11363012 83 12%
    11363016 81 23%
    1072 114
    95 84 72 7 0%
    11263002 95 1%
    11363005 95 8%
    11263101 92 15%
    11363004 11363001 630
- - -
**Example Input 3：**

    3
    1012 1121 11
    11252001 62 78
    11252002 56 93
    11252003 85 64
    11252004 92 71
    11252005 83 72
    11252006 73 64
    11252007 81 63
    11252101 63 59
    11252102 73 64
    11252103 82 94
    11252104 75 64
    1012 1131 11
    11352001 82 94
    11352002 72 64
    11352003 92 71
    11352004 61 89
    11352005 69 96
    11352006 74 63
    11352101 81 92
    11352102 70 65
    11352103 80 64
    11352104 75 68
    11352105 81 92
    1012 1141 9
    11452101 82 94
    11452102 86 71
    11452103 69 25
    11452104 88 56
    11452105 66 90
    11452201 81 65
    11452202 99 82
    11452203 70 100
    11452204 50 68
    1012
**Example Output 3：**

    520 112 112
    11252004 86 1% 0%
    11252005 80 15% 0%
    11252003 79 29% 0%
    520 113 113
    11352001 86 1% 0%
    11352003 86 17% 0%
    11352005 78 34% 0%
    521 112 112
    11252103 86 1% 0%
    11252104 72 25% 0%
    11252102 71 50% 0%
    521 113 113
    11352101 85 1% 0%
    11352105 85 20% 0%
    11352103 76 40% 0%
    521 114 114
    11452101 86 1% 0%
    11452102 82 20% 0%
    11452104 79 40% 0%
    522 114 114
    11452202 94 1% 0%
    11452203 79 25% 0%
    11452201 77 50% 0%
    1012 112
    86 74 62 7 0%
    11252004 86 1%
    11252103 86 10%
    11252005 80 19%
    1012 113
    86 77 69 6 0%
    11352001 86 1%
    11352003 86 10%
    11352101 85 19%
    1012 114
    94 75 56 11 0%
    11452202 94 1%
    11452101 86 12%
    11452102 82 23%
    11452202 11252004 521 520

## [My Code](../HomeWork/q037.py)

```python
# 這題是助教出來噁心人的吧
```